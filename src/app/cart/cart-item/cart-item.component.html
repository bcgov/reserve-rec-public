<div class="border rounded mb-3 bg-grey p-3">

  <div class="p-3 border-bottom bg-grey">
    <h5 class="mb-0 fw-bold text-primary">{{ item.geoZoneName }}</h5>
  </div>
  
  <div class="p-3 bg-grey">
    
    <!-- First Row:  -->
    <div class="row g-3 mb-3">
      <!-- Activity Type -->
      <div class="col-6">
        <div class="border rounded">
          <div class="bg-reservation-grey text-center py-2 border-bottom">
            <h6 class="mb-0 text-muted fw-semibold">Activity</h6>
          </div>
          <div class="bg-white p-3 text-center">
            <span class="fw-medium">{{ 'Backcountry Registration' }}</span>
          </div>
        </div>
      </div>
      
      <!-- Campsite -->
      <div class="col-6">
        <div class="border rounded">
          <div class="bg-reservation-grey text-center py-2 border-bottom">
            <h6 class="mb-0 text-muted fw-semibold">Campsite</h6>
          </div>
          <div class="bg-white p-3 text-center">
            <span class="fw-medium">First come, first served</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Second Row -->
    <div class="row g-3 mb-3">
      <!-- Party Size -->
      <div class="col-6">
        <div class="border rounded">
          <div class="bg-reservation-grey text-center py-2 border-bottom">
            <h6 class="mb-0 text-muted fw-semibold"><i class="fa-regular fa-user-group me-1"></i>Party Size</h6>
          </div>
          <div class="bg-white p-3 text-center">
            <span class="fw-medium">{{ getTotalOccupants(item.occupants) }}</span>
          </div>
        </div>
      </div>
      
      <!-- Nights -->
      <div class="col-6">
        <div class="border rounded">
          <div class="bg-reservation-grey text-center py-2 border-bottom">
            <h6 class="mb-0 text-muted fw-semibold"><i class="fa-regular fa-moon me-1"></i>Nights</h6>
          </div>
          <div class="bg-white p-3 text-center">
            <span class="fw-medium">{{ calculateNights() }}</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Row Three  -->
    <div class="row mb-3">
      <div class="col-12">
        <div class="border rounded">
          <div class="bg-reservation-grey text-center py-2 border-bottom">
            <h6 class="mb-0 text-muted fw-semibold"><i class="fa-regular fa-calendar me-1"></i>Dates</h6>
          </div>
          <div class="bg-white p-3">
            <div class="row align-items-center">
              <div class="col-5 text-center">
                <div class="fw-semibold text-muted mb-1">Entry</div>
                <div class="fw-medium">{{ item.startDate | date:'MMM d, y' }}</div>
              </div>
              <div class="col-2 text-center">
                <i class="fa-solid fa-arrow-right text-muted"></i>
              </div>
              <div class="col-5 text-center">
                <div class="fw-semibold text-muted mb-1">Exit</div>
                <div class="fw-medium">{{ item.endDate | date:'MMM d, y' }}</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

  </div>


<!-- Price Breakdown Section!! -->

<div class="p-3 mb-3">
  <hr class="border-2 mb-3">
  <!-- Adults -->
  <div *ngIf="item.occupants.totalAdult > 0" class="d-flex justify-content-between align-items-center mb-2">
    <div>
      <span class="fw-medium text-primary">Backcountry Fee - Adult</span>
      <div class="text-muted small">{{ item.activityName }} ({{ calculateNights() }} nights × {{ item.occupants.totalAdult }} adults)</div>
    </div>
    <span class="fw-semibold">${{ calculateAdultCost() | number:'1.2-2' }}</span>
  </div>

  <!-- Seniors -->
  <div *ngIf="item.occupants.totalSenior > 0" class="d-flex justify-content-between align-items-center mb-2">
    <div>
      <span class="fw-medium text-primary">Backcountry Fee - Senior</span>
      <div class="text-muted small">{{ item.activityName }} ({{ calculateNights() }} nights × {{ item.occupants.totalSenior }} seniors)</div>
    </div>
    <span class="fw-semibold">${{ calculateSeniorCost() | number:'1.2-2' }}</span>
  </div>

  <!-- Youth -->
  <div *ngIf="item.occupants.totalYouth > 0" class="d-flex justify-content-between align-items-center mb-2">
    <div>
      <span class="fw-medium text-primary">Backcountry Fee - Youth</span>
      <div class="text-muted small">{{ item.activityName }} ({{ calculateNights() }} nights × {{ item.occupants.totalYouth }} youth)</div>
    </div>
    <span class="fw-semibold">${{ calculateYouthCost() | number:'1.2-2' }}</span>
  </div>

  <!-- Children -->
  <div *ngIf="item.occupants.totalChild > 0" class="d-flex justify-content-between align-items-center mb-2">
    <div>
      <span class="fw-medium text-primary">Backcountry Fee - Child</span>
      <div class="text-muted small">{{ item.activityName }} ({{ calculateNights() }} nights × {{ item.occupants.totalChild }} children)</div>
    </div>
    <span class="fw-semibold">${{ calculateChildCost() | number:'1.2-2' }}</span>
  </div>


  <hr class="my-2">
  
  <!-- Subtotal Section!!!-->
  <div class="text-muted small mb-2">
    * Taxes included in fee
  </div>
  <div class="text-muted small mb-2">
    * No refunds or cancelationson backcountry registrations
  </div>
  <div class="d-flex justify-content-between align-items-center">
    <span class="fw-bold">Subtotal:</span>
    <span class="fw-bold">${{ calculateSubtotal() | number:'1.2-2' }}</span>
  </div>
</div>


<!-- Button Row -->
<div class="d-flex justify-content-between align-items-center">
  <!-- Remove Button -->
  <button 
    type="button"
    class="btn btn-outline-primary"
    (click)="onRemoveClick()"
    title="Remove from cart"
  >
    <i class="fa-solid fa-trash me-2"></i>
    Remove
  </button>
  
  <!-- Edit Button - Right Side -->
  <button 
    type="button"
    class="btn btn-outline-primary"
    (click)="onEditClick()"
    title="Edit booking details"
  >
    <i class="fa-solid fa-edit me-2"></i>
    Edit
  </button>
</div>

</div>
